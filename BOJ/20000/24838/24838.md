# 문제
- 배열 $A$를 재배열해서, $S(A, x, y):=\sum_{j=1}^{m}(\sum_{i=x[j]}^{y[j]}A[i])$를 최대화하는 문제
- 조건

    - $1\leq{T}\leq{10}$

    - $1\leq{n}\leq{50,000}$

    - $1\leq{m}\leq{200,000}$

    - $1\leq{x[i]}\leq{y[i]}\leq{n}$

# 풀이
1. $n,m$의 범위만 보더라도 모든 경우의 수를 만들어보면서 푸는 방식으로는 절대 해결이 불가능하다.

    - 대충 ($n$개의 순서쌍) $\times$ (실제로 구간 합 전부다 구해서 쓰기)

    - 이렇게 단순 무식하게 풀면 $O(n!Tmn^2)$ 정도 걸릴듯

    - 그나마 누적 합으로 일부 구간을 미리 계산해놓으면, $O(n!Tmn)$ 으로 줄어들지만 여전히 말도 안 됨.

2. 접근 방식을 바꿔보자

    - "순서쌍을 먼저 선택하고 누적 합 계산"하는 방식이 아니라, "겹치는 구간이 가장 많은 구간에 가장 큰 값을 할당하는 방식"으로 계산하면 더 나을 것 같음.

    - $n+2$개의 값이 모두 $0$인 배열 $B$를 놔두고, $m$개의 입력에 대해서, 시작하는 쪽에는 $1$, 끝나는 다음 위치는 $-1$

        - $n+2$ 개인 이유
            
            위 조건에 의해서 끝 값 다음 위치의 최댓값은 $n+1$이다. 아니면 끝점이 $n$보다 클 때는 반영을 하지 않아도 됨.

    - $m$ 개의 입력이 종료되면, $B$ 배열의 누적합을 구한다.

    - 누적합 연산이 종료가 되면 $B[i]=$ ($m$개의 구간에서 위치 $i$의 원소가 겹치는 횟수)이다.

    - 이제, $1\leq{i}\leq{n}$에 대해서, 각각의 "겹치는 횟수"가 몇개씩 있는지 확인하여 Dictionary에 저장
    
    - Dictionary를 내림차순 정렬하여, "겹치는 횟수"가 가장 높은 것부터, "겹치는 횟수" $\times$ "배열에 남은 것들 중 최댓값"을 정답에 더 해준다.

    - 위를 반복하면서, 정답이 나올 수 있는 방법의 수도 구해준다.
    
        - 같은 "겹치는 횟수"를 가지는 원소들은 순서를 어떻게 해도 상관없이 같은 결과를 낼것임으로, "모든 겹치는 횟수의 순서쌍 개수를 곱한 값"이 된다.